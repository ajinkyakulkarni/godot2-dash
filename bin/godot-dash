#!/usr/bin/env node

var dash = require('../index'),
    godot = require('godot');

var godotPort = 1337,
    httpPort = 1338;

var dashboard = dash
  .createServer()
  .register(godot)
;

godot.createServer({
  type: 'tcp',
  reactors: [
    godot.reactor()
      .dashboard()
  ]
}).listen(godotPort);

dashboard.listen(httpPort, function (err) {
  if (err) {
    throw err;
  }

  console.log('godot-dash is online');
  console.log('godot server listening on tcp://0.0.0.0:' + godotPort);
  console.log('http server listening on http://0.0.0.0:' + httpPort);
  console.log('CTRL-C to stop');
});
